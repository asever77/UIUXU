<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Dropdown | UIUXU </title>
	<link rel="stylesheet" href="../assets/css/app.css">
</head>

<body>
	<div class="area-base">
		<header class="base-header"></header>
		<div class="base-body">
			<aside class="base-side"></aside>
			<main class="base-content">
				<wrap>
					<tit>Dropdown</tit>
					<box>
            <div style="display: flex; gap:0.8rem;">
							<div data-dropdown="dropdown1">
								<button type="button" data-dropdown-button="dropdown1">
									<span data-dropdown-text="dropdown1">서울시</span>
								</button>
							</div>
							<div data-dropdown="dropdown2">
								<button type="button" data-dropdown-button="dropdown2">
									<span>요일 (중복선택)</span>
								</button>
								<div data-dropdown-panel="dropdown2" aria-hidden="true">
									<div data-dropdown-section="dropdown2">
										<div data-selection="rd2"></div>
										<button type="button" onclick="UI.exe.dropdown2.hide()">닫기</button>
									</div>
								</div>
							</div>
						</div>
					</box>
				</wrap>
			</main>
		</div>
		<footer class="base-footer"></footer>
	</div>

	<!-- dropdown -->
	<div class="area-dropdown">
		<div data-dropdown-panel="dropdown1" aria-hidden="true">
			<div data-dropdown-section="dropdown1">
				<div data-selection="rd1"></div>
			</div>
		</div>
	</div>

	<!-- script -->
	<script type="module">
		// 세팅 ----------------------------------------------
		import { UX } from '../assets/js/uiuxu.common.js';
		UX.init();
		
		// 선언 ----------------------------------------------
		// buttonSelection
		UI.exe.localSelect = new UX.ButtonSelection({
			id: 'rd1',
			type: 'radio',
			label: '지역선택',
			data: [
				{ text: '서울시', value: '서울시', checked: false },
				{ text: '강남구', value: '강남구', checked: false },
				{ text: '강동구', value: '강동구', checked: true },
				{ text: '강북구', value: '강북구', checked: false },
			],
			callback: (eventData) => {
				console.log('callback localSelect: ', eventData, UI.exe.localSelect)
				document.querySelector(`[data-dropdown-text="dropdown1"]`).textContent = eventData.value;
				UI.exe.dropdown1.hide();
			},
			onGroupExit: (eventData) => {
				console.log('onGroupExit!!!!!:', eventData);
				UI.exe.dropdown1.hide();
			}
		});
		UI.exe.weeklySelect = new UX.ButtonSelection({
			id: 'rd2',
			type: 'checkbox',
			label: '요일선택',
			data: [
				{ text: '월요일', value: '월요일', checked: true },
				{ text: '화요일', value: '화요일', checked: false },
				{ text: '수요일', value: '수요일', checked: false },
				{ text: '목요일', value: '목요일', checked: false },
				{ text: '금요일', value: '금요일', checked: false },
				{ text: '토요일', value: '토요일', checked: false },
				{ text: '일요일', value: '일요일', checked: false },
			],
			callback: (eventData) => {
				console.log('callback weeklySelect: ', eventData)
			},
			onGroupExit: (eventData) => {
				console.log('onGroupExit!!!!!:', eventData);
			}
		});

    // dropdown
		UI.exe.dropdown1 = new UX.Dropdown({
			id: 'dropdown1',
			callback: () => {
				UI.exe.localSelect.init();
			},
		});
		UI.exe.dropdown2 = new UX.Dropdown({
			id: 'dropdown2',
			ps: 'top',
			callback: () => {
				//내부 라디오버튼 선택인 경우
				UI.exe.weeklySelect.init();
			},
		});


		// 실행 ----------------------------------------------
		UI.exe.dropdown1.init();
		UI.exe.dropdown2.init();

	</script>
</body>

</html>