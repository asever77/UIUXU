<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>UIUXU</title>
	<link rel="stylesheet" href="../assets/css/app.css">
</head>

<body>
	<div class="area-base">
		<header class="base-header"></header>

		<div class="base-body">
			<main class="base-main">
				<grid class="main-content">
          <group data-name="accordion">
            <tit>Accordion</tit>
            <box>
              <div data-accordion="acco1">
                <div data-accordion-item="acco1">
                  <h3 data-accordion-head="acco1">
                    <button type="button" data-accordion-button="acco1"></button>
                    <b data-accordion-title="acco1" aria-hidden="true">title 1</b>
                    <a href="#link">외부링크</a>
                  </h3>
                  <div data-accordion-body="acco1">
                    ddddd<br>
                    ddddd
                  </div>
                </div>

                <div data-accordion-item="acco1">
                  <h3 data-accordion-head="acco1">
                    <button type="button" data-accordion-button="acco1"></button>
                    <b data-accordion-title="acco1" aria-hidden="true">title 2</b>
                  </h3>
                  <div data-accordion-body="acco1">
                    ddddd<br>
                    ddddd<br>
                    ddddd<br>
                    ddddd
                  </div>
                </div>

                <div data-accordion-item="acco1">
                  <h3 data-accordion-head="acco1">
                    <button type="button" data-accordion-button="acco1"></button>
                    <b data-accordion-title="acco1" aria-hidden="true">title 3</b>
                  </h3>
                  <div data-accordion-body="acco1">
                    ddddd<br>
                    ddddd
                  </div>
                </div>
              </div>
            </box>
          </group>

          <group data-name="dialog">
            <tit>Dialog</tit>
            <box>
              <div style="display: flex; gap:0.4rem; flex-wrap: wrap; align-items: flex-start; ">
                <button type="button" data-test-id="modal1" onclick="UI.exe.modal1.show()">center</button>|
                <button type="button" data-test-id="modal2" onclick="UI.exe.modal2.show()">bottom</button>|
                <button type="button" data-test-id="modal3" onclick="UI.exe.modal3.show()">top</button>|
                <button type="button" data-test-id="modal4" onclick="UI.exe.modal4.show()">left</button>|
                <button type="button" data-test-id="modal5" onclick="UI.exe.modal5.show()">right</button>|
                <button type="button" data-test-id="alert1" onclick="UI.exe.alert1.show()">alert</button>|
                <button type="button" data-test-id="toast1" onclick="UI.exe.toast1.show()">toast1</button>|
                <button type="button" data-test-id="toast2" onclick="UI.exe.toast2.show()">toast2</button>|
                <span>shack bar 추가필요</span>
              </div>
            </box>
          </group>

          <group data-name="dropdown">
            <tit>Dropdown</tit>
            <box>
              <div style="display: flex; gap:0.8rem;">
                <div data-dropdown="dropdown1">
                  <button type="button" data-dropdown-button="dropdown1">
                    <span data-dropdown-text="dropdown1">서울시</span>
                  </button>
                </div>
                <div data-dropdown="dropdown2">
                  <button type="button" data-dropdown-button="dropdown2">
                    <span data-dropdown-text="dropdown2">월요일</span>
                  </button>
                  <div data-dropdown-panel="dropdown2" aria-hidden="true">
                    <div data-dropdown-section="dropdown2">
                      <div data-selection="rd2"></div>
                    </div>
                  </div>
                </div>
              </div>
              
            </box>
          </group>

          <group data-name="all check">
            <tit>All Check</tit>
            <box>
              <div>
                <input type="checkbox" id="allcheck_0" name="allcheck" data-allcheck-main="allcheck">
                <label for="allcheck_0">전체 체크</label>

                <hr>
                <input type="checkbox" id="allcheck_1" name="allcheck" data-allcheck-sub="allcheck">
                <label for="allcheck_1">체크 1</label>

                <input type="checkbox" id="allcheck_2" name="allcheck" data-allcheck-sub="allcheck">
                <label for="allcheck_2">체크 2</label>

                <input type="checkbox" id="allcheck_3" name="allcheck" data-allcheck-sub="allcheck">
                <label for="allcheck_3">체크 3</label>
              </div>
            </box>
          </group>

          <group data-name="tab">
            <tit>Tab</tit>
            <box>
              <div role="tablist" data-tab="tab1"></div>
              <div data-tab-wrap="tab1"></div>
            </box>
          </group>

          <group data-name="tooltip">
            <tit>Tooltip</tit>
            <box style="flex-direction: column;">
              <div>
                <div>
                  <em class="tooltip" tabindex="0">
                    <span class="offscreen" data-ps="top-left">대한항공</span>
                    <span aria-hidden="true">hover 툴팁</span>
                  </em>
                </div>
                <button type="button" class="tooltip" data-tooltip="click" aria-describedby="tooltip1">click 툴팁</button>
                <button type="button" class="tooltip" data-tooltip="click" aria-describedby="tooltip2">click 툴팁2</button>
              </div>
            </box>
          </group>

          <group data-name="wheel picker">
            <tit>Wheel Picker (libray)</tit>
            <fieldset id="selectType" style="font-size: 1.2rem; display: flex; flex-direction: column;">
              <legend>날짜 타입 선택</legend>
              <label>
                <input type="radio" name="type" value="YYYY-MM-DD" checked> YYYY-MM-DD
              </label>
              <label>
                <input type="radio" name="type" value="MM-DD-YYYY"> MM-DD-YYYY
              </label>
              <label>
                <input type="radio" name="type" value="DD-MM-YYYY"> DD-MM-YYYY
              </label>
            </fieldset>
            <button type="button" data-set="YYYY-MM-DD" data-wheel-picker-button="aa1">
              <span data-wheel-picker-set="YYYY">YYYY</span>
              <span data-wheel-picker-set="MM">MM</span>
              <span data-wheel-picker-set="DD">DD</span>
            </button>
            <box style="justify-content: center; align-items: center;">
              <div class="wheel-picker-area" data-wheel-picker="aa1" data-set="YYYY-MM-DD">
                <div class="wheel-picker" data-wheel-picker-set="YYYY" id="iosPicker_year" aria-hidden="true"></div>
                <div class="wheel-picker" data-wheel-picker-set="MM" id="iosPicker_month" aria-hidden="true"></div>
                <div class="wheel-picker" data-wheel-picker-set="DD" id="iosPicker_day" aria-hidden="true"></div>

                <div class="wheel-picker-a11y">
                  <select data-set="YYYY" id="iosPicker_year_a11y"></select>
                  <select data-set="MM" id="iosPicker_month_a11y"></select>
                  <select data-set="DD" id="iosPicker_day_a11y"></select>
                </div>
              </div>
            </box>
          </group>
				</grid>

        <div class="area-dialog" data-area="main"></div>
			</main>
		</div>
		<footer class="base-footer"></footer>
	</div>

  <!-- zIndex 100: dropdown -->
	<div class="area-dropdown">
		<div data-dropdown-panel="dropdown1" aria-hidden="true">
			<div data-dropdown-section="dropdown2">
				<div data-selection="rd1"></div>
			</div>
		</div>
	</div>

  <!-- zIndex 200: tooltip  -->
	<div class="area-tooltip">
    <div role="tooltip" id="tooltip1" aria-hidden="true">
      <div class="offscreen" data-ps="right-top">
        <dl>
          <dt>날씨</dt>
          <dd>는 옛 브라우저 호환성을 고려한 방식이며, <a href="#"> 최신 브라우저에서는</a> window.scrollY만으로 충분합니다.</dd>
        </dl>
        <button type="button" data-tooltip-close="tooltip1">닫기</button>
      </div>
    </div>

    <div role="tooltip" id="tooltip2" aria-hidden="true">
      <div class="offscreen" data-ps="top-left">
        <dl>
          <dt>날씨222</dt>
          <dd>는 옛 브라우저 호환성을 고려한 방식이며, 대부분의 최신 브라우저에서는 window.scrollY만으로 충분합니다.</dd>
        </dl>
        <button type="button" data-tooltip-close="tooltip2">닫기</button>
      </div>
    </div>
  </div>

  <!-- zIndex 300: modal -->
	<div class="area-dialog" data-area="body">
		<div class="ui-dialog" role="dialog" aria-hidden="true" 
		data-dialog="modalname2" 
		aria-labelledby="modalname2-label"
		aria-describedby="modalname2-decs"> 
			<div class="ui-dialog--wrap" role="document" tabindex="-1" data-dialog-item="wrap">
				<div class="ui-dialog--header">
					<h1 id="modalname2-label">제목2</h1>
					<p id="modalname2-decs">간략한 소개 및 기능에 대한 설명</p>
					<button type="button" aria-label="창닫기" data-dialog-button="close">닫기</button>
				</div>
				<div class="ui-dialog--main" data-dialog-item="main">
					.........<br>
					.........<br>
					.........
				</div>
				<div class="ui-dialog--footer">
					<button type="button" data-dialog-button="close">취소</button>
					<button type="button">확인</button>
				</div>
			</div>
		</div>
	</div>

	<!-- zIndex 400: toast -->
	<div class="area-toast"></div>

	<!-- script -->
	<script type="module">
		import { UX } from '../assets/js/uiuxu.common.js';
		UX.init();
	 
    // all check
    UI.exe.allcheck1 = new UX.RadioAllcheck({
      name: 'allcheck',
      callback: (v) => {
        console.log(`콜백 결과 ${v}`);
      },
    });

    // accordion
    UI.exe.acco1 = new UX.Accordion({
      id: 'acco1',
      expanded: 'acco1_0',
    });

    // dialog
		UI.exe.modal1 = new UX.Dialog({
			area: document.querySelector('.area-dialog[data-area="body"]'),
			id: 'modalname1',
			ps: 'center',
			src: './dialog/modal.html',
			extend: false,
			loadCallback: () => {
				console.log('modal1 loadCallback')
			},
		});			
		UI.exe.modal2 = new UX.Dialog({
			id: 'modalname2',
			ps: 'bottom',
			src: null,
			extend: true, 
			loadCallback: () => {
				console.log('modal2 loadCallback')
			},
		});
		UI.exe.modal3 = new UX.Dialog({
			area: document.querySelector('.area-dialog[data-area="main"]'),
			id: 'modalname3',
			ps: 'top',
			src: './dialog/modal3.html',
			extend: false,
			loadCallback: () => {
				console.log('modal3 loadCallback')
			},
		});
		UI.exe.modal4 = new UX.Dialog({
			area: document.querySelector('.area-dialog[data-area="body"]'),
			id: 'modalname4',
			ps: 'left',
			src: './dialog/modal4.html',
			extend: false,
			loadCallback: () => {
				console.log('modal4 loadCallback')
			},
		});
		UI.exe.modal5 = new UX.Dialog({
			area: document.querySelector('.area-dialog[data-area="body"]'),
			id: 'modalname5',
			ps: 'right',
			src: './dialog/modal5.html',
			extend: false,
			loadCallback: () => {
				console.log('modal5 loadCallback')
			},
		});
		UI.exe.alert1 = new UX.Dialog({
			area: document.querySelector('.area-dialog[data-area="body"]'),
			id: 'alert1',
			type: 'system',
			title: `<b>제목</b>영역입니다.`,
			message: `<strong>공지</strong>입니다.`,
			confirmText: '확인',
			confirmCallback: () => {
				console.log('확인 콜백');
			},
			cancelText: '취소',
			cancelCallback: ()=> {
				console.log('취소 콜백');
				UI.exe.alert1.hide()
			},
		});
		UI.exe.toast1 = new UX.Dialog({
			area: document.querySelector('.area-toast'),
			id: 'toast1',
			ps: 'bottom',
			type: 'toast',
			message: `<strong>토스트 메세지</strong>입니다.`,
		});
		UI.exe.toast2 = new UX.Dialog({
			area: document.querySelector('.area-toast'),
			id: 'toast2',
			ps: 'bottom',
			type: 'toast',
			message: `<strong>2222 토스트 메세지</strong>입니다.`,
		});

    // dropdown
		UI.exe.dropdown1 = new UX.Dropdown({
			id: 'dropdown1',
			callback: () => {
				//내부 라디오버튼 선택인 경우
				UI.exe.rd1 = new UX.ButtonSelection({
					id: 'rd1',
					type: 'radio',
					label: '지역선택',
					data: [
						{text:'서울시', value:'서울시', checked: true},
						{text:'강남구', value:'강남구', checked: false},
						{text:'강동구', value:'강동구', checked: false},
						{text:'강북구', value:'강북구', checked: false},
					],
					callback: (target, value) => {
						document.querySelector(`[data-dropdown-text="${UI.exe.dropdown1.id}"]`).textContent = value;
						UI.exe.dropdown1.hide();
					}
				});
			},
		});
		UI.exe.dropdown2 = new UX.Dropdown({
			id: 'dropdown2',
			ps: 'top',
			callback: () => {
				//내부 라디오버튼 선택인 경우
				UI.exe.rd2 = new UX.ButtonSelection({
					id: 'rd2',
					type: 'checkbox',
					label: '요일선택',
					data: [
						{text:'월요일', value:'월요일', checked: true},
						{text:'화요일', value:'화요일', checked: false},
						{text:'수요일', value:'수요일', checked: false},
						{text:'목요일', value:'목요일', checked: false},
						{text:'금요일', value:'금요일', checked: false},
						{text:'토요일', value:'토요일', checked: false},
						{text:'일요일', value:'일요일', checked: false},
					],
					callback: (target, value) => {
						document.querySelector(`[data-dropdown-text="${UI.exe.dropdown2.id}"]`).textContent = value;
						// UI.exe.dropdown2.hide();
					}
				});
			},
		});
	
    // tab
    UI.exe.tab1 = new UX.Tab({
      rederMode: 'static',
      id: 'tab1',
      data: [
        {tab: `<span>tab 1</span>`, src: './tab/tab1.html', selected:true},
        {tab: `<span>tab 2</span>`, src: './tab/tab2.html', selected:false},
      ],
    });

    // tooltip
    const tooltip = new UX.Tooltip('[data-tooltip="click"]');

    // Wheel picker
    document.querySelectorAll('#selectType input').forEach(item => {
      item.addEventListener('change', (e) => {
        const _this = e.currentTarget;
        const set = _this.value;
        const pickerArea = document.querySelector(`[data-wheel-picker="aa1"]`);
        const pickerButton = document.querySelector(`[data-wheel-picker-button="aa1"]`);
        pickerArea.dataset.set = set;
        pickerButton.dataset.set = set;
      });
    })
    UI.exe.wheelPickerYear = new UX.WheelPicker({
      el: '#iosPicker_year',
      type: 'normal', // normal
      source:  [
        {value:2020, text: '2020'},
        {value:2021, text: '2021'},
        {value:2022, text: '2022'},
        {value:2023, text: '2023'},
        {value:2024, text: '2024'},
        {value:2025, text: '2025'},
        {value:2026, text: '2026'},
        {value:2027, text: '2027'},
        {value:2028, text: '2028'},
      ],
      value:2023,
      onChange: (selected) => {
        const selectA11y = document.querySelector('#iosPicker_year_a11y');
        selectA11y.value = selected.value;
        selectA11y.addEventListener('change', (e) => {
          UI.exe.wheelPickerYear.select(Number(e.currentTarget.value));
        });
        
        document.querySelector('[data-wheel-picker-button="aa1"] [data-wheel-picker-set="YYYY"]').textContent = selected.text;
      }
    });
    UI.exe.wheelPickerMonth = new UX.WheelPicker({
      el: '#iosPicker_month',
      type: 'normal', // normal
      source:  [
        {value:1, text: '01'},
        {value:2, text: '02'},
        {value:3, text: '03'},
        {value:4, text: '04'},
        {value:5, text: '05'},
        {value:6, text: '06'},
        {value:7, text: '07'},
        {value:8, text: '08'},
        {value:9, text: '09'},
        {value:10, text: '10'},
        {value:11, text: '11'},
        {value:12, text: '12'},
      ],
      value:5,
      onChange: (selected) => {
        const selectA11y = document.querySelector('#iosPicker_month_a11y');
        selectA11y.value = selected.value;
        selectA11y.addEventListener('change', (e) => {
          UI.exe.wheelPickerMonth.select(Number(e.currentTarget.value));
        });

        document.querySelector('[data-wheel-picker-button="aa1"] [data-wheel-picker-set="MM"]').textContent = selected.text;
      }
    });
    UI.exe.wheelPickerDay = new UX.WheelPicker({
      el: '#iosPicker_day',
      type: 'infinite', // normal
      source:  [
        {value:1, text: '01'},
        {value:2, text: '02'},
        {value:3, text: '03'},
        {value:4, text: '04'},
        {value:5, text: '05'},
        {value:6, text: '06'},
        {value:7, text: '07'},
        {value:8, text: '08'},
        {value:9, text: '09'},
        {value:10, text: '10'},
        {value:11, text: '11'},
        {value:12, text: '12'},
        {value:13, text: '13'},
        {value:14, text: '14'},
        {value:15, text: '15'},
        {value:16, text: '16'},
        {value:17, text: '17'},
        {value:18, text: '18'},
        {value:19, text: '19'},
        {value:20, text: '20'},
        {value:21, text: '21'},
        {value:22, text: '22'},
        {value:23, text: '23'},
        {value:24, text: '24'},
        {value:25, text: '25'},
        {value:26, text: '26'},
        {value:27, text: '27'},
        {value:28, text: '28'},
        {value:29, text: '29'},
        {value:30, text: '30'},
      ],
      value:1,
      onChange: (selected) => {
        const selectA11y = document.querySelector('#iosPicker_day_a11y');
        selectA11y.value = selected.value;
        selectA11y.addEventListener('change', (e) => {
          UI.exe.wheelPickerDay.select(Number(e.currentTarget.value));
        });

        document.querySelector('[data-wheel-picker-button="aa1"] [data-wheel-picker-set="DD"]').textContent = selected.text;
      }
    });
  </script>
</body>

</html>